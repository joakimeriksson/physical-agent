[workspace]
name = "lab9_voice_iot"
version = "0.1.0"
description = "Lab 9: Voice + IoT via A2A Challenge"
authors = ["Joakim Eriksson <joakim.eriksson@ri.se>"]
channels = ["conda-forge"]
platforms = ["osx-arm64", "osx-64", "linux-64", "linux-aarch64", "win-64"]

[dependencies]
python = "3.12.*"
numpy = ">=1.26"
portaudio = "*"

[pypi-dependencies]
# Speech (from Lab 1)
sounddevice = ">=0.5"
pywhispercpp = ">=1.2"
piper-tts = "==1.3.0"
# A2A with pydantic-ai (from Lab 8)
pydantic-ai = { version = ">=0.2", extras = ["a2a"] }
a2a-sdk = ">=0.2.4"
httpx = ">=0.27"
uvicorn = ">=0.34"

[tasks]
iot-agent = "python iot_agent.py"
demo = "python voice_client.py"
download-models = "python -c \"import sys; sys.path.insert(0, '../lab1_speech'); from main import download_models; download_models()\""
